<div class="panel panel-dashboard">
	<div class="row">
		<div ng-if="getSettings().displayUserChart" ng-class="general.computeWidth(getSettings().displayUserActivity)">
			<div class="panel panel-default">
				<div class="panel-body panel-body-dashboard">
					<div id="chartLoggedHours">
					</div>
				</div>
			</div>
			<div class="panel panel-default">
				<div class="panel-body panel-body-dashboard">
					<div id="chartEffortEstimation">
					</div>
				</div>
			</div>
		</div>
		<div ng-if="getSettings().displayUserActivity" class="dashboard-panel-right" ng-class="general.computeWidth(getSettings().displayUserChart)">
			<div class="panel panel-default">
				<div class="panel-body panel-body-dashboard">
					<h1>
						Open Tickets
					</h1>
					<div class="dashboard-ticket" ng-repeat="entry in tickets.inProgress | filter: {owner: getAuthenticatedUser().username}">
						<span class="ticket-{{entry.type}}-inverted">TC-{{entry.code}}</span>
						<span>{{entry.title}}</span>
						<span><strong ng-class="entry.remainingTime < 0 ? 'tracker-red' : ''">{{entry.remainingTime}} hrs.</strong></span>
					</div>
				</div>
			</div>
			<div class="panel panel-default">
				<div class="panel-body panel-body-dashboard">
					<h1>
						Recent Activity
					</h1>
					<div ng-repeat="entry in dashboard.logEntries | limitTo: 5">
						<div class="log">
							<i class="fa fa-fw fa-{{entry.action}}"></i>
							<span class="log-user">{{entry.username}}</span>
							<span class="log-target ticket-{{entry.targetType}}-inverted">TC-{{entry.target}}</span>
							<span class="log-amount" ng-if="entry.amount">{{entry.amount}} hrs.</span>
							<span class="log-comment" ng-if="entry.comment"><em>"{{entry.comment | abbreviate}}"</em></span>
							<span class="log-timestamp">{{entry.timestamp | momentInTime}}</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
